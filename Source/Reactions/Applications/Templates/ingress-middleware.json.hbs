{
{{#if IdPorten }}
    "idPorten": {
        "issuer": "{{IdPortenConfig.Issuer}}",
        "authorizationEndpoint": "{{IdPortenConfig.AuthorizationEndpoint}}"
    },
{{/if}}
    "tenants": {
{{#Tenants}}
        "{{TenantId}}": {
            "domain": "{{Domain}}",
            "onBehalfOf": "{{OnBehalfOf}}",
            "sourceIdentifiers": [
            {{#SourceIdentifiers}}
                "{{this}}"{{#unless @last}},{{/unless}}
            {{/SourceIdentifiers}}
            ]
        }{{#unless @last}},{{/unless}}
{{/Tenants}}
    },
{{#if TenantResolution }}
    "tenantResolution": {
        "strategy": "{{TenantResolution.Strategy}}",
        "options": {{{TenantResolution.Options}}}
    },
{{/if}}
{{#if OAuthBearerTokenProvider }}
    "oAuthBearerTokens": {
        "authority": "{{OAuthBearerTokenProvider.Authority}}"
    },
{{/if}}

{{#if Impersonation }}
    "impersonation": {
        "identityProviders": [
{{#IdentityProviders}}
            "{{this}}"
{{/IdentityProviders}}
        ],
        "authorization": {
            "tenants": [
{{#Tenants}}
                "{{this}}"
{{/Tenants}}
            ],
            "roles": [
{{#Roles}}
                "{{this}}"
{{/Roles}}
            ],
            "groups": [
{{#Groups}}
                "{{this}}"
{{/Groups}}
            ],
            "claims": [
{{#Claims}}
                {
                    "type": "{{this.Type}}",
                    "value": "{{this.Value}}"
                }{{#unless @last}},{{/unless}}
{{/Claims}}
            ]
        }
    },
{{/if}}
    "identityDetailsUrl": "{{IdentityDetailsUrl}}"
}
